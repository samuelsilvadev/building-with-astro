---
import type { Product } from "../types/product";
import { formatPrice } from "../utils/formatPrice";
import CartButton from "./CartButton";
import Rating from "./Rating.astro";

type Props = Product;

const { name, id, image, price, rating } = Astro.props;
const link = `/product-details/${id}`;
---

<article class="w-full border border-gray-200 shadow bg-zinc-950">
  <a href={link}>
    <img
      class="p-2 rounded-t-lg w-full object-cover h-[300px]"
      src={image}
      alt={`Visual representation of ${name}`}
    />
  </a>
  <div class="px-5 pb-5">
    <a href={link}>
      <h2 class="text-xl font-semibold tracking-tight text-white">
        {name}
      </h2>
    </a>
    <Rating value={rating} />
    <div class="flex items-center justify-between gap-5 mt-2">
      <span class={`text-3xl font-bold text-white`}>
        {formatPrice(price)}
      </span>
      <CartButton client:idle {...Astro.props} />
    </div>
  </div>
</article>
